<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Building ETF</title>
<link rel="stylesheet" href="../stylesheets/etf.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="shortcut icon" href="../images/favicon.ico" type="image/vnd.microsoft.icon" />
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of contents</div>
<ul class="sectlevel0">
<li><a href="#_building_etf">Building ETF</a>
<ul class="sectlevel1">
<li><a href="#_changelog">Changelog</a></li>
<li><a href="#_about_etf">About ETF</a></li>
<li><a href="#_prerequisites">Prerequisites</a></li>
<li><a href="#_cloning_the_source_code">Cloning the source code</a></li>
<li><a href="#_compiling_the_source_code">Compiling the source code</a></li>
<li><a href="#_using_test_drivers_with_the_web_application">Using test drivers with the web application</a></li>
<li><a href="#_faq">FAQ</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><a class="image" href="http://www.etf-validator.net"><img src="http://docs.etf-validator.net/v2.0/images/ETF_logo.png" alt="ETF Logo" width="125"></a></span></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><span class="etf_headline"><strong>ETF</strong><br>
Testing framework for spatial data and services</span></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<h1 id="_building_etf" class="sect0">Building ETF</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-topbot grid-none stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">approved</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2022-08-17</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This manual describes how to build the ETF validator. Knowledge about maven, maven repositories and build management tools are required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Target audience</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developers planning to build the ETF validator themselves</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution (cc-by) 4.0</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Identifier</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://docs.etf-validator.net/v2.0/Developer_manuals/Building.html" class="bare">https://docs.etf-validator.net/v2.0/Developer_manuals/Building.html</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Language</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EN</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_changelog">Changelog</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Date</strong></th>
<th class="tableblock halign-left valign-top"><strong>Editor</strong></th>
<th class="tableblock halign-left valign-top"><strong>Comments</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2017-05-02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jon Herrmann</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">document created</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2017-06-21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clemens Portele</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">editorial updates</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2017-07-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jon Herrmann</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test driver development section</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2022-08-17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Guadaltel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Updated to v2.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2022-08-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jon Herrmann</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">some changes, approved</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<!-- toc disabled -->
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_about_etf">About ETF</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="http://etf-validator.net">ETF</a> is an open source testing framework for validating spatial data, metadata and web services in Spatial Data Infrastructures (SDIs). It can be used via a responsive web application or via a REST API.</p>
</div>
<div class="paragraph">
<p>The design of ETF is driven by three goals: be user-friendly, consistent with the standards and capable of testing all resources in an SDI.</p>
</div>
<div class="paragraph">
<p><a href="http://www.interactive-instruments.de/">interactive instruments</a> has developed ETF and is the primary maintainer of the software.</p>
</div>
<div class="paragraph">
<p><a href="http://docs.etf-validator.net/">More documentation about ETF&#8230;&#8203;</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_prerequisites">Prerequisites</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://jdk.java.net/archive/">OpenJDK 11 is installed</a></p>
</li>
<li>
<p>Ensure JAVA_HOME environment variable is set</p>
</li>
<li>
<p><a href="https://git-scm.com/downloads">Git installed</a></p>
</li>
<li>
<p>For debugging: an IDE with the corresponding plugins
for an web application server (for instance <a href="https://plugins.jetbrains.com/plugin/18721-jetty">this IntelliJ plugin</a> or <a href="https://marketplace.eclipse.org/content/eclipse-jetty">this plugin for Eclipse</a>). Or you install an web application server and connect via an open debug port.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cloning_the_source_code">Cloning the source code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clone the Source code from the <a href="https://github.com/etf-validator/etf-webapp">GitHub repository</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">git clone -b next https://github.com/etf-validator/etf-webapp.git</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
the next branch contains the latests developments.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compiling_the_source_code">Compiling the source code</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ETF uses <a href="https://gradle.org">Gradle</a> as build management tool. The gradle
wrapper script will automatically download the required Gradle version and
start the build process afterwards.</p>
</div>
<div class="paragraph">
<p>Dependencies are currently downloaded from the interactive instruments repositories.
Currently only the snapshot repository can be accessed with the credentials
etf-public-dev / etf-public-dev . This is automatically done by
default.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The artifact repository to be used is determined from the version.properties file.
Make sure the version is suffixed with "-SNAPSHOT". If necessary, change the
version in the version.properties file, for example to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>version = 2.1.0-SNAPSHOT</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">On a Windows command line run</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="cmd">C:\etf-webapp&gt; gradlew.bat build war</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">On Linux execute</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">$ ./gradlew build war</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_test_drivers_with_the_web_application">Using test drivers with the web application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each Test Driver can be installed in the <a href="Admin_manuals/index.html#_etf_data_directory_structure">test driver directory</a> and will be used by ETF on startup.</p>
</div>
<div class="paragraph">
<p>To build the test drivers the following repositories need to be cloned:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/etf-validator/etf-bsxtd.git">etf-bsxtd</a> ETF test driver for running BaseX XQuery based test projects</p>
</li>
<li>
<p><a href="https://github.com/etf-validator/etf-tetd.git">etf-tetd</a> ETF test driver for executing Test Suites on a remote OGC TEAM Engine instance</p>
</li>
<li>
<p><a href="https://github.com/etf-validator/etf-suitd.git">etf-suitd</a> ETF test driver for running SoapUI based test projects</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Test drivers then should be built with the following commands (replace the TMP with you test driver directory):</p>
</div>
<div class="listingblock">
<div class="title">On a Windows command line run</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="cmd">C:\etf-testdriver&gt; gradlew.bat -Petf.td.deployment.dir="C:\TMP" build install</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">On Linux execute</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="bash">$ gradlew.bat -Petf.td.deployment.dir="/TMP" build install</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If your git client changes the line endings, your need to add the
"spotlessApply" task to the build commands.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_faq">FAQ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Q: I get a <code>repository not found</code> error.</p>
</div>
<div class="paragraph">
<p>A: The error occurs for example if the source code has been downloaded and not
cloned with GIT -or the directory has been copied without the hidden .git
directory. The build helper script (etf-bda) collects information from the
locally cloned GIT repository and includes the property <code>Implementation-Revision</code>
in the manifest file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Manifest-Version: 1.0
Build-Date: 170601013212
Implementation-Version: 2.0.0
Build-Gradle: 3.5
Build-ii-bda: 1.0.24.1
Implementation-Revision: abf509f
Source-Compatibility: 1.8
Implementation-Build: 0
Build-Host: JAX
Build-User: herrmann
Build-JDK: 1.8.0_102</pre>
</div>
</div>
<div class="paragraph">
<p>You can fix the problem by cloning the repository from GitHub using GIT.</p>
</div>
<div class="paragraph">
<p>Q: I obtain different sizes in the war or jar files than the size of the released artifacts
when I compile them in my environment.</p>
</div>
<div class="paragraph">
<p>A: These differences result from several local system properties that are collected by the build system and included in the manifest file.</p>
</div>
<hr>
<div class="paragraph small">
<p><a href="https://www.interactive-instruments.de/en/about/impressum/">Legal Notice</a> | <a href="https://www.interactive-instruments.de/en/about/datenschutzerklarung/">Privacy Notice</a></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2023-02-02 12:37:39 +0100
</div>
</div>
</body>
</html>